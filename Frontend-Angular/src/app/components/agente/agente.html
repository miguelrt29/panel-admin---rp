<div class="admin-layout" [class.night-mode]="isNightMode">

  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h2>Panel Admin</h2>
    </div>

    <nav class="sidebar-nav">
      <a routerLink="/admin" routerLinkActive="active">
        <span class="icon">ğŸ“Š</span>
        <span>Dashboard</span>
      </a>

      <a routerLink="/usuarios" routerLinkActive="active">
        <span class="icon">ğŸ‘¥</span>
        <span>GestiÃ³n de Usuarios</span>
      </a>

      <a routerLink="/agentes" routerLinkActive="active">
        <span class="icon">ğŸ§‘â€âœˆï¸</span>
        <span>Control de Agentes</span>
      </a>

      <a routerLink="/reportes" routerLinkActive="active">
        <span class="icon">ğŸ“</span>
        <span>Reportes del Sistema</span>
      </a>

      <a routerLink="/estadisticas" routerLinkActive="active">
        <span class="icon">ğŸ“ˆ</span>
        <span>EstadÃ­sticas</span>
      </a>

      <a routerLink="/calendario" routerLinkActive="active">
        <span class="icon">ğŸ“…</span>
        <span>Calendario</span>
      </a>

      <a routerLink="/comentarios" routerLinkActive="active">
        <span class="icon">ğŸ’¬</span>
        <span>Comentarios</span>
      </a>

      <a routerLink="/configuracion" routerLinkActive="active">
        <span class="icon">âš™ï¸</span>
        <span>ConfiguraciÃ³n</span>
      </a>

      <a routerLink="/login" class="logout">
        <span class="icon">ğŸšª</span>
        <span>Salir</span>
      </a>
    </nav>
  </aside>

  <!-- ===== CONTENIDO ===== -->
  <main class="main-content">

    <!-- ===== HEADER ===== -->
    <header class="header">
      <h2>Dashboard General</h2>

      <button class="theme-toggle" (click)="toggleTheme()">
        {{ isNightMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
      </button>
    </header>

    <!-- ===== ALERTA ===== -->
    <div class="alerta" *ngIf="alertMessage">
      {{ alertMessage }}
    </div>

    <!-- ===== GRÃFICOS ===== -->
    <section class="charts-grid">
      <div class="chart-card">
        <h4>Infracciones por Agente</h4>
        <canvas id="mainBarChart"></canvas>
      </div>

      <div class="chart-card">
        <h4>Reportes Semanales</h4>
        <canvas id="lineChart"></canvas>
      </div>

      <div class="chart-card">
        <h4>Tipos de InfracciÃ³n</h4>
        <canvas id="pieChart"></canvas>
      </div>
    </section>

    <!-- ===== TABLA ===== -->
    <section class="table-section">
      <h3>ğŸ“‹ Infracciones Recientes</h3>

      <table class="data-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Fecha</th>
            <th>Tipo</th>
            <th>Agente</th>
            <th>Estado</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let inf of infracciones; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ inf.fecha }}</td>
            <td>{{ inf.tipo }}</td>
            <td>{{ inf.agente }}</td>
            <td>
              <span
                class="status"
                [ngClass]="{
                  'pending': inf.estado === 'Pendiente',
                  'validated': inf.estado === 'Validado'
                }"
              >
                {{ inf.estado }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

  </main>
</div>
